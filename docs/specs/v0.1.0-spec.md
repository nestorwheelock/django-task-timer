# SPEC PHASE CLIENT APPROVAL PACKAGE
## Django Task Timer v0.1.0 "Foundation"

**Project Start Date:** September 30, 2025
**Client:** Nestor Wheelock
**Developer:** Claude Code + Nestor Wheelock
**Repository:** https://github.com/nestorwheelock/django-task-timer

---

## 1. PROJECT CHARTER

### What We're Building

**Django Task Timer v0.1.0** - A reusable Django app that implements the Pomodoro Technique for time tracking.

**Core Features for v0.1.0:**
- ✅ Pomodoro timer (configurable work/break intervals, default 25/5 min)
- ✅ Start/pause/stop/reset timer controls
- ✅ Task description and notes per session
- ✅ Session history with filtering
- ✅ Daily and weekly statistics
- ✅ REST API for all timer operations
- ✅ Web dashboard interface
- ✅ Django admin integration
- ✅ Complete documentation and tests

### What We're NOT Building (This Epoch)

**Explicitly out of scope for v0.1.0:**
- ❌ AI-powered productivity insights (Ollama integration) → **v0.2.0**
- ❌ Automatic task detection or git integration → **v0.2.0**
- ❌ Taskflow integration and task linking → **v0.3.0**
- ❌ WebSocket real-time updates → **Future**
- ❌ Mobile app → **Future**
- ❌ Multi-user/team features → **Future**
- ❌ Calendar integration → **Future**

### Why We're Building This

**Problem:**
- Need to track time spent on coding tasks
- Want to use Pomodoro technique for focus
- Existing tools are standalone (not Django-integrated)
- Want reusable package for multiple Django projects

**Solution:**
- Django app that installs via pip
- Integrates with existing Django projects
- Simple, focused MVP in v0.1.0
- Foundation for AI features (v0.2.0) and integrations (v0.3.0)

### Success Criteria

**v0.1.0 is successful if:**
1. ✅ Timer counts down accurately (within 1 second)
2. ✅ Can track multiple sessions per day
3. ✅ History persists across server restarts
4. ✅ Statistics show correct totals
5. ✅ API returns correct data
6. ✅ Can install in fresh Django project in < 5 minutes
7. ✅ Tests achieve 95%+ coverage
8. ✅ Documentation enables stranger to install and use
9. ✅ You (client) use it for real work sessions

### Estimated Effort & Timeline

- **Development Time:** 2-3 hours
- **Testing & Documentation:** 1 hour
- **Total Effort:** 3-4 hours
- **Target Delivery:** Same day as approval

---

## 2. USER STORIES WITH ACCEPTANCE CRITERIA

### Epic 1: Timer Control

#### US-1.1: Start a Pomodoro Session
**As a** developer
**I want to** start a 25-minute timer with a task description
**So that** I can focus on a single task

**Acceptance Criteria:**
- ✓ Click "Start Timer" button
- ✓ Enter task description (required)
- ✓ Optionally enter notes
- ✓ Timer displays 25:00 and begins countdown
- ✓ Session saved to database with status "running"
- ✓ Start button disabled while timer running

**Client Verification Questions:**
- Will you be able to test this? **YES / NO**
- Is this behavior what you expect? **YES / NO**
- Any changes needed? ___________________

---

#### US-1.2: Pause and Resume Timer
**As a** developer
**I want to** pause the timer when interrupted
**So that** my time tracking remains accurate

**Acceptance Criteria:**
- ✓ Click "Pause" button → Timer freezes
- ✓ Click "Resume" button → Timer continues from pause point
- ✓ Pause/resume events logged in session
- ✓ Total pause time tracked
- ✓ Visual indication timer is paused

**Client Verification Questions:**
- Will you be able to test this? **YES / NO**
- Is this behavior what you expect? **YES / NO**
- Any changes needed? ___________________

---

#### US-1.3: Complete or Stop Session
**As a** developer
**I want to** complete a session when timer reaches 0:00
**So that** I can take a break and track completion

**Acceptance Criteria:**
- ✓ Timer reaches 0:00 → Auto-completes session
- ✓ Visual/audio notification (browser alert)
- ✓ Session status changes to "completed"
- ✓ Can manually stop timer early (saves partial session)
- ✓ Completed sessions appear in history

**Client Verification Questions:**
- Will you be able to test this? **YES / NO**
- Is this behavior what you expect? **YES / NO**
- Any changes needed? ___________________

---

### Epic 2: Session History

#### US-2.1: View Session History
**As a** developer
**I want to** see a list of my past work sessions
**So that** I can review what I worked on

**Acceptance Criteria:**
- ✓ List shows: task, duration, date/time, status
- ✓ Most recent sessions first
- ✓ Can filter by date range
- ✓ Shows incomplete/paused sessions differently
- ✓ Pagination for large history (20 per page)

**Client Verification Questions:**
- Will you be able to test this? **YES / NO**
- Is this behavior what you expect? **YES / NO**
- Any changes needed? ___________________

---

#### US-2.2: View Statistics
**As a** developer
**I want to** see how much time I spent today and this week
**So that** I can understand my productivity

**Acceptance Criteria:**
- ✓ Dashboard shows "Today: X hours Y minutes"
- ✓ Dashboard shows "This Week: X hours Y minutes"
- ✓ Shows number of completed sessions
- ✓ Shows average session length
- ✓ Updates in real-time as sessions complete

**Client Verification Questions:**
- Will you be able to test this? **YES / NO**
- Is this behavior what you expect? **YES / NO**
- Any changes needed? ___________________

---

### Epic 3: Configuration

#### US-3.1: Configure Timer Intervals
**As a** developer
**I want to** customize work and break durations
**So that** I can adapt the timer to my workflow

**Acceptance Criteria:**
- ✓ Settings page to configure intervals
- ✓ Work duration (default: 25 minutes)
- ✓ Short break duration (default: 5 minutes)
- ✓ Long break duration (default: 15 minutes)
- ✓ Settings persist across sessions
- ✓ Settings per user (if multi-user)

**Client Verification Questions:**
- Will you be able to test this? **YES / NO**
- Is this behavior what you expect? **YES / NO**
- Any changes needed? ___________________

---

## 3. SCOPE BOUNDARIES

### In Scope for v0.1.0

**Models:**
- ✅ TimerSession (task, notes, duration, status, timestamps)
- ✅ TimerSettings (work_duration, break_duration, user preferences)

**API Endpoints:**
- ✅ POST /api/timer/start/ - Start new session
- ✅ POST /api/timer/pause/ - Pause active session
- ✅ POST /api/timer/resume/ - Resume paused session
- ✅ POST /api/timer/stop/ - Stop active session
- ✅ GET /api/timer/active/ - Get current active session
- ✅ GET /api/sessions/ - List session history
- ✅ GET /api/sessions/{id}/ - Get session details
- ✅ GET /api/stats/ - Get statistics (today, week)
- ✅ GET /api/settings/ - Get timer settings
- ✅ PUT /api/settings/ - Update timer settings

**Frontend:**
- ✅ Timer dashboard page
- ✅ Timer display (countdown)
- ✅ Control buttons (start/pause/resume/stop)
- ✅ Session history list
- ✅ Statistics display
- ✅ Settings form
- ✅ Basic responsive CSS

**Admin:**
- ✅ Django admin for sessions
- ✅ Django admin for settings
- ✅ Filters and search

**Testing:**
- ✅ Model tests
- ✅ API tests
- ✅ Timer engine logic tests
- ✅ 95%+ coverage

**Documentation:**
- ✅ README with installation
- ✅ API documentation
- ✅ Usage examples
- ✅ Configuration guide

### Out of Scope (Future Epochs)

**v0.2.0 (AI Insights):**
- Ollama integration
- Daily productivity summaries
- Pattern detection (productive hours)
- Work recommendations

**v0.3.0 (Taskflow Integration):**
- Link sessions to taskflow tasks
- Taskflow dashboard integration
- Time tracking per task

**Future/Backlog:**
- WebSocket real-time updates
- Browser notifications
- Mobile app
- Team/multi-user features
- Calendar integration
- Export to CSV/Excel
- Charts and visualizations

---

## 4. TECHNICAL ARCHITECTURE

### Technology Stack

**Backend:**
- Django 4.0+
- Django REST Framework 3.14+
- Python 3.8+

**Frontend:**
- HTML5
- CSS3 (responsive)
- Vanilla JavaScript (no framework for v0.1.0)

**Database:**
- SQLite (development)
- PostgreSQL compatible (production)

**Testing:**
- pytest
- pytest-django
- pytest-cov

### Data Models

```python
class TimerSession(models.Model):
    task = TextField()                    # What you're working on
    notes = TextField(blank=True)         # Optional notes
    start_time = DateTimeField()          # When started
    end_time = DateTimeField(null=True)   # When completed/stopped
    duration = IntegerField(default=0)    # Total seconds worked
    pause_duration = IntegerField(default=0)  # Total seconds paused
    status = CharField(choices=[
        'running', 'paused', 'completed', 'stopped'
    ])
    created_by = ForeignKey(User)         # Who owns this session

class TimerSettings(models.Model):
    user = OneToOneField(User)
    work_duration = IntegerField(default=25)     # Minutes
    short_break_duration = IntegerField(default=5)
    long_break_duration = IntegerField(default=15)
    auto_start_breaks = BooleanField(default=False)
```

### API Design

**RESTful API following DRF conventions:**
- JSON request/response
- Token or session authentication
- Paginated list responses
- Standard HTTP status codes
- Error messages in consistent format

---

## 5. RISKS & ASSUMPTIONS

### Assumptions

1. **Client Environment:**
   - Has Django 4.0+ project
   - Has Python 3.8+
   - Will test on development environment first

2. **Usage Patterns:**
   - Single user per Django project (v0.1.0)
   - Browser tab remains open during timer
   - Okay with manual page refresh (no WebSocket)

3. **Technical:**
   - SQLite sufficient for v0.1.0
   - No Ollama required (that's v0.2.0)
   - Standard Django authentication

### Known Limitations

1. **Timer Accuracy:**
   - Depends on browser tab being active
   - Mitigation: Server-side time tracking as backup

2. **Real-time Updates:**
   - Requires manual page refresh
   - Future: WebSocket in later version

3. **Scalability:**
   - Single user focus for v0.1.0
   - Multi-tenancy in future version

4. **Data Growth:**
   - Session history grows over time
   - Mitigation: Pagination, future archive feature

5. **Browser Compatibility:**
   - Tested on modern Chrome/Firefox
   - May have issues on older browsers

### Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| Timer drift over long sessions | Medium | Low | Server-side validation |
| Browser refresh loses state | High | Medium | Save state every 10s |
| Large history slows page | Low | Medium | Pagination + lazy loading |
| Concurrent sessions bug | Low | High | Enforce one active session |
| Time zone confusion | Medium | Low | Store UTC, display local |

---

## 6. DELIVERABLES

### Code Artifacts
- ✅ Complete Django app in `task_timer/` directory
- ✅ All migrations
- ✅ Test suite (95%+ coverage)
- ✅ setup.py for pip installation

### Documentation
- ✅ README.md (installation, usage, examples)
- ✅ API_DOCUMENTATION.md (all endpoints)
- ✅ CONFIGURATION.md (settings options)
- ✅ CHANGELOG.md (v0.1.0 release notes)

### Deployment
- ✅ GitHub repository with v0.1.0 tag
- ✅ Installable via pip from GitHub
- ✅ Example Django project showing integration

---

## 7. ACCEPTANCE TEST PLAN

### Test Environment
- Fresh Django 4.x project
- Install django-task-timer from GitHub
- Follow README installation steps
- Test on local development server

### Test Scenarios

**Scenario 1: First Time Installation**
1. Install package
2. Run migrations
3. Access timer dashboard
4. Start first session
5. Complete session
6. View in history

**Scenario 2: Daily Usage**
1. Start 3 work sessions
2. Pause one session mid-way
3. Stop one session early
4. Complete one session full duration
5. View statistics (should show ~1.5 hours)

**Scenario 3: Configuration**
1. Change work duration to 50 minutes
2. Start new session
3. Verify timer shows 50:00

**Scenario 4: API Usage**
1. Call API to start session via curl/Postman
2. Call API to get active session
3. Call API to stop session
4. Verify session in history

### Success Criteria for Acceptance
- ✅ All user stories pass testing
- ✅ No critical bugs
- ✅ Installation takes < 5 minutes
- ✅ Documentation is clear
- ✅ Client would use for real work

---

## 8. APPROVAL FORM

```
═══════════════════════════════════════════════════════════
SPEC PHASE CLIENT APPROVAL - v0.1.0
═══════════════════════════════════════════════════════════

PROJECT: Django Task Timer v0.1.0 "Foundation"
DATE: September 30, 2025
CLIENT: Nestor Wheelock

I have reviewed and understand:

□ Project Charter - What we're building and why
□ User Stories - All 6 user stories with acceptance criteria
□ Scope Boundaries - What IS and IS NOT included in v0.1.0
□ Technical Architecture - Technology choices and data models
□ Risks & Assumptions - Known limitations and mitigations
□ Deliverables - What I will receive
□ Acceptance Test Plan - How we will validate success

I explicitly understand these are NOT in v0.1.0:
□ AI insights (coming in v0.2.0)
□ Taskflow integration (coming in v0.3.0)
□ WebSocket real-time updates (future)
□ Mobile app (future)

I approve the scope and authorize:
□ Development team to proceed to BUILD phase
□ Estimated effort: 3-4 hours
□ Target delivery: Same day (September 30, 2025)

CLIENT APPROVAL:

Signature: _________________________  Date: __________

Changes/Conditions/Notes:
_____________________________________________________
_____________________________________________________
_____________________________________________________

═══════════════════════════════════════════════════════════

DEVELOPER ACKNOWLEDGMENT:

I confirm:
□ I will build exactly what is specified above
□ I will not add scope without client approval
□ I will follow TDD and CLAUDE.md workflow
□ I will request CLIENT APPROVAL GATE #2 before shipping

Signature: _________________________  Date: __________

═══════════════════════════════════════════════════════════
```

---

## NEXT STEPS AFTER APPROVAL

**If APPROVED:**
1. ✅ Update todo list: SPEC approved
2. ✅ Clone repository: github.com/nestorwheelock/django-task-timer.git
3. ✅ Enter BUILD phase following CLAUDE.md TDD workflow
4. ✅ Regular progress updates (if requested)
5. ✅ Internal VALIDATION phase when complete
6. ✅ Deploy to staging for CLIENT APPROVAL GATE #2

**If CHANGES REQUESTED:**
1. Document requested changes
2. Update SPEC documents
3. Resubmit for approval
4. Proceed only after approval

**If REJECTED:**
1. Schedule clarification meeting
2. Understand concerns
3. Revise approach
4. Create new SPEC package

---

## CONTACT & QUESTIONS

**Before signing**, please:
- Review all sections thoroughly
- Ask questions about anything unclear
- Suggest changes if needed
- Ensure user stories match your expectations

**Questions or concerns?** Let's discuss before approval.

---

**END OF SPEC APPROVAL PACKAGE**